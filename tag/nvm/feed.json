{
    "version": "https://jsonfeed.org/version/1",
    "title": "Will • All posts by \"nvm\" tag",
    "description": "愿你一生努力，一生被爱",
    "home_page_url": "https://github.com/yangxiangnanwill/yangxiangnanwill.github.io",
    "items": [
        {
            "id": "https://github.com/yangxiangnanwill/yangxiangnanwill.github.io/2023/05/28/%E5%A5%BD%E5%A5%BD%E7%A0%81%E4%BB%A3%E7%A0%81%E5%90%96/Node/Nvm%E6%95%99%E7%A8%8B/",
            "url": "https://github.com/yangxiangnanwill/yangxiangnanwill.github.io/2023/05/28/%E5%A5%BD%E5%A5%BD%E7%A0%81%E4%BB%A3%E7%A0%81%E5%90%96/Node/Nvm%E6%95%99%E7%A8%8B/",
            "title": "Nvm教程",
            "date_published": "2023-05-28T13:00:29.415Z",
            "content_html": "<blockquote>\n<p>因为某些原因博猪的电脑GG了，SO,现在电脑好了，，，虽然还有某些无关痛痒的问题存在，但是还是够博猪继续折腾了，老样子重装电脑后第一部配置相关环境变量，然后安装软件。。。。</p>\n<p>当一切都OK的时候，博猪浏览自己的博客的时候发现一些问题：</p>\n<ul>\n<li><strong>&#x3D;&#x3D;控制台有很多错误,这个对于我这个死肥处女座来说简直不可忍受&#x3D;&#x3D;</strong></li>\n<li>复制、博猪特意放网抑云的歌曲、图片放大等效果失效了</li>\n<li>博客部署的时候部署不了了，或者说经常部署失败</li>\n<li>。。。。。。。。。。。</li>\n</ul>\n<hr>\n<p>OK，博猪简单说一下原因吧，原因很简单，由于博猪本次装机后对应的node版本使用的是最新的LTS版本，而node有没有相关的版本解决问题，所以我安装的时候默认安装的模块会是最新的，而最近的hexo和node有冲突，so，就导致本地可以运行，而使用相关功能的时候就有问题了。</p>\n<p>so，很不幸，本文就由此出现了。</p>\n</blockquote>\n<h1 id=\"前景介绍\"><a href=\"#前景介绍\" class=\"headerlink\" title=\"前景介绍\"></a>前景介绍</h1><p>在我们的日常开发中经常会遇到这种情况：手上有好几个项目，每个项目的需求不同，进而不同项目必须依赖不同版的 NodeJS 运行环境。如果没有一个合适的工具，这个问题将非常棘手。</p>\n<p><a href=\"https://github.com/creationix/nvm\">nvm</a> 应运而生，nvm 是 Mac 下的 node 管理工具，有点类似管理 Ruby 的 rvm，如果需要管理 Windows 下的 node，官方推荐使用 <a href=\"https://github.com/hakobera/nvmw\">nvmw</a> 或 <a href=\"https://github.com/coreybutler/nvm-windows\">nvm-windows</a>。不过，nvm-windows 并不是 nvm 的简单移植，他们也没有任何关系。但下面介绍的所有命令，都可以在 nvm-windows 中运行。</p>\n<h1 id=\"nvm-与-n-的区别\"><a href=\"#nvm-与-n-的区别\" class=\"headerlink\" title=\"nvm 与 n 的区别\"></a>nvm 与 n 的区别</h1><p>node 版本管理工具还有一个是 TJ大神的 <a href=\"https://github.com/tj/n\">n</a> 命令，n 命令是作为一个 node 的模块而存在，而 nvm 是一个独立于 node&#x2F;npm 的外部 shell 脚本，因此 n 命令相比 nvm 更加局限。</p>\n<p>由于 npm 安装的模块路径均为 <strong>&#x2F;usr&#x2F;local&#x2F;lib&#x2F;node_modules</strong>，当使用 n 切换不同的 node 版本时，实际上会共用全局的 node&#x2F;npm 目录。 因此不能很好的满足『按不同 node 版本使用不同全局 node 模块』的需求。</p>\n<h1 id=\"Windows-安装\"><a href=\"#Windows-安装\" class=\"headerlink\" title=\"Windows 安装\"></a>Windows 安装</h1><blockquote>\n<p>由于博猪使用的是windows系统，所以博猪着重介绍windows安装，Mac、Linux安装请自行百度。</p>\n</blockquote>\n<p><strong>首先最重要的是：一定要卸载已安装的 NodeJS，否则会发生冲突。然后下载 ​</strong>​*<em><strong>​</strong>​ 最新安装包，直接安装即可。</em>*</p>\n<p><img src=\"http://tva1.sinaimg.cn/large/0086NgqGly1h2yvpq8um7j30td0f7n2z.jpg\" alt=\"image.png\"></p>\n<p>选择nvm安装路径</p>\n<p><img src=\"http://tva1.sinaimg.cn/large/0086NgqGly1h2yvrvlcujj30dx0bf76n.jpg\" alt=\"image.png\"></p>\n<p>选择node环境变量文件夹(<strong>注意:一定要是空文件夹或者不存在的文件夹,安装时会自动创建，默认是一个快捷方式，即软连接</strong>)</p>\n<p><img src=\"http://tva1.sinaimg.cn/large/0086NgqGly1h2yvsjyoydj30ee0bbtaz.jpg\" alt=\"image.png\"></p>\n<p>安装完毕，打开命令行看是否安装成功</p>\n<p><img src=\"http://tva1.sinaimg.cn/large/0086NgqGly1h2yvxauxidj30sl0d07c3.jpg\" alt=\"image.png\"></p>\n<blockquote>\n<p>如果出现： nvm command is not defined 。表示你的全局环境变量没有配置或者配置出错了</p>\n<p>如果环境变量都配置好了，还是nvm command is not defined ，这个时候建议重启vscode 或者重启电脑。</p>\n</blockquote>\n<h1 id=\"更改下载源\"><a href=\"#更改下载源\" class=\"headerlink\" title=\"更改下载源\"></a>更改下载源</h1><p>找到nvm程序所在路径，例如博猪安装路径:<code>D:\\LenovoSoftstore\\Install\\nvm</code>，末尾添加以下内容：</p>\n<figure class=\"highlight properties\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs properties\"><span class=\"hljs-attr\">node_mirror</span>: <span class=\"hljs-string\">http://npm.taobao.org/mirrors/node/</span><br><span class=\"hljs-attr\">npm_mirror</span>: <span class=\"hljs-string\">https://npm.taobao.org/mirrors/npm/</span><br></code></pre></td></tr></table></figure>\n\n<h1 id=\"nvm基本使用\"><a href=\"#nvm基本使用\" class=\"headerlink\" title=\"nvm基本使用\"></a>nvm基本使用</h1><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\"><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">列出当前电脑下的Node.js的版本列表</span><br>nvm list<br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">显示所有可以下载的版本</span><br>nvm list available<br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">切换指定版本的node</span><br>nvm use [version]<br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">安装指定版本的node</span><br>nvm install [version]<br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">卸载指定版本的node</span><br>nvm uninstall [version]<br></code></pre></td></tr></table></figure>\n\n<h1 id=\"使用案例\"><a href=\"#使用案例\" class=\"headerlink\" title=\"使用案例\"></a>使用案例</h1><h2 id=\"下载指定node版本\"><a href=\"#下载指定node版本\" class=\"headerlink\" title=\"下载指定node版本\"></a>下载指定node版本</h2><blockquote>\n<p>本文模拟两个版本node，一个版本较低，一个版本较高</p>\n</blockquote>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\">nvm install 10.24.1<br>nvm install 12.22.12<br></code></pre></td></tr></table></figure>\n\n<p><img src=\"http://tva1.sinaimg.cn/large/0086NgqGgy1h2ywdbtan0j30j405sq46.jpg\" alt=\"image.png\"></p>\n<p>这时候我们看nvm对应的按照目录，这时候我们会发现，我们下载的两个版本的node已经下载好了。</p>\n<p><img src=\"http://tva1.sinaimg.cn/large/0086NgqGgy1h2ywfcx3c1j30pe098ae3.jpg\" alt=\"image.png\"></p>\n<h2 id=\"使用指定版本node\"><a href=\"#使用指定版本node\" class=\"headerlink\" title=\"使用指定版本node\"></a>使用指定版本node</h2><p>由于博猪hexo指定的node版本必须大于等于12，最新版本node还不支持，所以博猪索性下载了一个最新版本的12</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\">nvm use 12.22.12<br></code></pre></td></tr></table></figure>\n\n<p><img src=\"http://tva1.sinaimg.cn/large/0086NgqGgy1h2ywhvggizj30au02kwes.jpg\" alt=\"image.png\"></p>\n<h2 id=\"安装hexo-cli\"><a href=\"#安装hexo-cli\" class=\"headerlink\" title=\"安装hexo-cli\"></a>安装hexo-cli</h2><p><img src=\"http://tva1.sinaimg.cn/large/0086NgqGgy1h2ywj4xy0mj30vn07j77s.jpg\" alt=\"image.png\"></p>\n<h2 id=\"配置环境变量\"><a href=\"#配置环境变量\" class=\"headerlink\" title=\"配置环境变量\"></a>配置环境变量</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\">hexo c<br></code></pre></td></tr></table></figure>\n\n<p>这时候我们发现，全局node命令是使用不了的，这时候我们需要配置一下环境变量。</p>\n<p><img src=\"http://tva1.sinaimg.cn/large/0086NgqGgy1h2ywm3z2pdj30hl08442u.jpg\" alt=\"image.png\"></p>\n<p>我们发现安装nvm时自动给我们配置两个环境变量，一个nvm软件的，一个node软连接使用的，这是我们需要配置对应的全局变量，即在<code>Path</code>中配置<code>node_global</code></p>\n<p><img src=\"http://tva1.sinaimg.cn/large/0086NgqGgy1h2ywp1p2slj30e506uact.jpg\" alt=\"image.png\"></p>\n<p>配置完成后我们再次使用上述命令，发现可以使用了</p>\n<h2 id=\"使用node全局命令\"><a href=\"#使用node全局命令\" class=\"headerlink\" title=\"使用node全局命令\"></a>使用node全局命令</h2><p>使用hexo命令部署博客</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\">hexo g --d<br></code></pre></td></tr></table></figure>\n\n<p><img src=\"http://tva1.sinaimg.cn/large/0086NgqGgy1h2ywry59z1j30pf09kdk3.jpg\" alt=\"image.png\"></p>\n<p>登录博客再次查看相关失效功能</p>\n<p><img src=\"http://tva1.sinaimg.cn/large/0086NgqGgy1h2ywt0q34uj311x0q1tka.jpg\" alt=\"image.png\"></p>\n<p><img src=\"http://tva1.sinaimg.cn/large/0086NgqGgy1h2ywtlnmmjj3067057q2v.jpg\" alt=\"image.png\"></p>\n<p><img src=\"http://tva1.sinaimg.cn/large/0086NgqGgy1h2ywuckvx3j31ii0punhw.jpg\" alt=\"image.png\"></p>\n<p>完美，我的快乐又回来了。</p>\n",
            "tags": [
                "Node",
                "前端",
                "Nvm"
            ]
        }
    ]
}